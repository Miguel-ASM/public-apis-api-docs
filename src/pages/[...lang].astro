---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import Search from "../components/react/Search.jsx";
import ApiSearch from "../components/react/ApiSearch";
import i18next from "i18next";
import astroI18nextConfig from "../../astro-i18next.config.mjs";

export function getStaticPaths() {
  const { defaultLocale } = astroI18nextConfig;
  return i18next.languages.map((locale) => {
    const lang = locale !== defaultLocale ? locale : undefined;
    return { params: { lang } };
  });
}

console.log(Astro.params);
---

<Layout
  title="The public APIs API"
  metaDescription="An API to search for publicly available APIs"
>
  <Hero />
  <div class="flex w-full flex-col gap-y-12 lg:px-32">
    <Search client:only />
    <ApiSearch client:only />
  </div>
</Layout>
